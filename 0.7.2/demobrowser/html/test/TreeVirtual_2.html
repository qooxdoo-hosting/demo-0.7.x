<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>
  <script type="text/javascript" src="../../script/demo.js"></script>
  <script type="text/javascript" src="../util.js"></script>
</head>
<body>  
  <div id="description">
    <p>An example of using the Virtual Tree widget providing the array of tree
    nodes en bulk instead of issuing a series of addBranch() and addLeaf()
    calls.  This example also colors some nodes.</p>
  </div>

  <script type="text/javascript">
  qx.core.Init.getInstance().defineMain(function()
  {
    var d = qx.ui.core.ClientDocument.getInstance();

    // tree
    var tree = new qx.ui.treevirtual.TreeVirtual("Tree");
    with (tree)
    {
      set({
            left   : 10,
            top    : 30,
            width  : 400,
            bottom : 30,
            border : "inset-thin"
          });
      setColumnWidth(0, 400);
    };

    d.add(tree);

    // tree data model
    var dataModel = tree.getDataModel();

    var treeData = [];

    var node =                  // the root node (not displayed)
      {
        bOpened       : true,
        children      : [ 1 ]
      };
    treeData.push(node);

    var node =
      {
        type          : qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH,
        parentNodeId  : 0,
        label         : "My Root",
        bSelected     : false,
        bOpened       : true,
        icon          : "icon/16/places/folder.png",
        iconSelected  : "icon/16/folder_open.png",
        labelStyle    : "background-color:red;color:white",
        children      : [ 2 ]
      };
    treeData.push(node);

    var node =
      {
        type          : qx.ui.treevirtual.SimpleTreeDataModel.Type.BRANCH,
        parentNodeId  : 1,
        label         : "A sub-folder",
        bSelected     : false,
        bOpened       : true,
        bHideOpenClose: true,
        icon          : "icon/16/places/folder.png",
        iconSelected  : "icon/16/folder_open.png",
        cellStyle     : "background-color:cyan",
        children      : [ 3 ]
      };
    treeData.push(node);

    var node =
      {
        type          : qx.ui.treevirtual.SimpleTreeDataModel.Type.LEAF,
        parentNodeId  : 2,
        label         : "Third-level leaf",
        bSelected     : false,
        bOpened       : false,
        icon          : "icon/16/actions/document-new.png",
        iconSelected  : "icon/16/actions/document-open.png",
        children      : [ ]
      };
    treeData.push(node);

    dataModel.setData(treeData);
  });
  </script>
</body>
</html>
