<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <title>qooxdoo &raquo; Demo Browser</title>
  <link type="text/css" rel="stylesheet" href="../../css/layout.css"/>
  <!--[if IE]>
  <link type="text/css" rel="stylesheet" href="../../css/layout_ie.css"/>
  <![endif]-->
  <script type="text/javascript" src="../../script/demo.js"></script>
</head>
<body>
  <script type="text/javascript" src="../util.js"></script>

  <div id="demoDescription">
    <p>Dialog with qx.ui.form.TextField and qx.ui.form.TextArea</p>
    <p>Testing initial focus handling.</p>
  </div>


  <script type="text/javascript" language="JavaScript">


      qx.core.Init.getInstance().defineMain(function() {

      var d = qx.ui.core.ClientDocument.getInstance();
      var txtfld;

      var  dialogEditFrage = new qx.ui.window.Window("Edit", "icon/16/apps/accessories-text-editor.png");


      with(dialogEditFrage) {
        setSpace(300, 400, 100, 300);

        setShowClose(false);

        var qxObj = new qx.ui.basic.Atom('Question');
        with(qxObj)
        {
          setHorizontalChildrenAlign('right');
          set({top:10,left:10,width:'20%'});
        };
        add(qxObj);

        qxObj = txtfld = new qx.ui.form.TextArea();
        with (qxObj) {
          set({top:10,right:10,width:'70%'})
        }
        add(qxObj);

        txtfld.addEventListener("appear", function(e) {
          this.focus();
        });

        qxObj = new qx.ui.basic.Atom('Type');
        with(qxObj)
        {
          setHorizontalChildrenAlign('right');
          set({top:70,left:10,width:'20%'});
        };
        add(qxObj);

        qxObj = new qx.ui.form.TextField();
        with (qxObj) {
          set({top:70,right:10,width:'70%'})
        }
        add(qxObj);


        var btnOK = new qx.ui.form.Button("OK", "icon/16/actions/dialog-ok.png");
        var btnCancel = new qx.ui.form.Button("Cancel", "icon/16/actions/dialog-cancel.png");
        var btnSetFocus = new qx.ui.form.Button("Set Focus To First Field", "icon/16/actions/view-refresh.png");

        btnOK.set({ bottom : 10, right : 10 });
        btnCancel.set({ bottom : 10, left : 10 });
        btnSetFocus.set({ bottom : 10, left : 100 });

        btnCancel.addEventListener("execute", function(e) {
          dialogEditFrage.close();
        });
        btnOK.addEventListener("execute", function(e) {
          dialogEditFrage.close();
        });

        btnSetFocus.addEventListener("execute", function(e) {
          txtfld.focus();
        });

        add(btnOK, btnCancel, btnSetFocus);
      }

      var btnOpen = new qx.ui.form.Button("Open the dialog");
      btnOpen.set({ top : 50, left : 20 });
      btnOpen.addEventListener("click", function(e) {
        dialogEditFrage.open();
      });

      var btnRestore = new qx.ui.form.Button("Restore the dialog");
      btnRestore.set({ top : 80, left : 20 });
      btnRestore.addEventListener("click", function(e) {
        dialogEditFrage.restore();
      });

      d.add(btnOpen,btnRestore,dialogEditFrage);
    });

  </script>

</body>
</html>
